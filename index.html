<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>BNZ CASINO - DRINKING ENGINE</title>
    <style>
        body { font-family: 'Impact', sans-serif; background: #000; color: white; text-align: center; margin: 0; }
        .header { background: linear-gradient(to bottom, #444, #111); padding: 20px; border-bottom: 4px solid gold; }
        
        /* Affichage des jetons */
        #chips-display { font-size: 3rem; color: gold; text-shadow: 2px 2px #ff0000; }
        
        /* La Machine */
        .slot-machine { margin: 40px auto; padding: 20px; background: #222; width: fit-content; border: 10px solid #444; border-radius: 20px; }
        .reels-container { display: flex; gap: 15px; margin-bottom: 20px; }
        .reel { width: 100px; height: 120px; background: #eee; color: #000; font-size: 3.5rem; display: flex; align-items: center; justify-content: center; border-radius: 10px; border-bottom: 5px solid #aaa; }
        
        /* Zone d'action (Le coeur du jeu) */
        #action-box { 
            min-height: 120px; margin: 20px auto; width: 90%; max-width: 500px;
            background: #111; border: 3px dashed gold; padding: 20px;
            display: flex; flex-direction: column; justify-content: center;
            font-size: 1.4rem; line-height: 1.4;
        }
        .title-event { font-weight: bold; margin-bottom: 10px; text-transform: uppercase; }
        .desc-event { color: #00ff00; font-family: sans-serif; }

        /* Boutons */
        .btn { padding: 20px 60px; font-size: 1.8rem; cursor: pointer; border: none; border-radius: 10px; font-weight: bold; transition: 0.2s; }
        #spin-btn { background: #ffcc00; color: black; box-shadow: 0 8px #997700; }
        #spin-btn:active { box-shadow: 0 2px #997700; transform: translateY(4px); }
        #spin-btn:disabled { background: #333; color: #666; box-shadow: none; cursor: not-allowed; }
        
        #refill-btn { background: #ff0000; color: white; display: none; }

        .rare { color: #ff00ff !important; text-shadow: 0 0 10px #ff00ff; }
        .legendary { color: #ffff00 !important; text-shadow: 0 0 20px #ffff00; }
    </style>
</head>
<body>

    <div class="header">
        <div id="chips-display">100</div>
        <div style="font-size: 0.8rem; letter-spacing: 2px;">JETONS VIRTUELS</div>
    </div>

    <div class="slot-machine">
        <div class="reels-container">
            <div class="reel" id="r0">?</div>
            <div class="reel" id="r1">?</div>
            <div class="reel" id="r2">?</div>
        </div>
        
        <button id="spin-btn" class="btn" onclick="play()">SPIN (-10)</button>
        <button id="refill-btn" class="btn" onclick="refill()">J'AI BU MON SHOT</button>
    </div>

    <div id="action-box">
        <div class="title-event">EN ATTENTE</div>
        <div class="desc-event">Ins√®re 10 jetons pour lancer la roue.</div>
    </div>

<script>
    let chips = 100;
    const symbols = ['B', 'N', 'Z', 'üíÄ', 'üî•', 'üÉè', 'üç∫'];

    // CONFIGURATION DES EVENTS
    const EVENTS = {
        DOUBLE: [
            { t: "CIBLE", d: "Donne 2 gorg√©es √† la personne de ton choix." },
            { t: "TOURNE", d: "Tout le monde tourne sur soi-m√™me, le dernier boit." },
            { t: "MIROIR", d: "Choisis un partenaire. Quand tu bois, il boit (jusqu'au prochain double)." },
            { t: "INVENTEUR", d: "Invente une r√®gle de mot interdit pendant 3 tours." },
            { t: "BOOMERANG", d: "La personne √† ta droite te donne 2 gorg√©es." }
        ],
        TRIPLE: [
            { t: "DICTATEUR", d: "Tout le monde finit son verre sauf toi." },
            { t: "CASCADE", d: "Lance une cascade (tout le monde boit en suivant le voisin)." },
            { t: "MAITRE DES POUCES", d: "Tu es le ma√Ætre des pouces jusqu'au prochain triple." },
            { t: "SHOT ROULETTE", d: "D√©signe 2 personnes : Duel de Chifoumi, le perdant prend un shot." },
            { t: "CRACKLIST", d: "Donne une cat√©gorie (ex: Marques de bi√®res). Le premier qui s√®che boit un shot." }
        ],
        BNZ: [
            { t: "LE SAINT GRAAL", d: "üî• TU REMPORTES 10 JETONS IRL ! üî•" }
        ]
    };

    function play() {
        if (chips < 10) return;
        chips -= 10;
        updateUI();

        const btn = document.getElementById('spin-btn');
        const box = document.getElementById('action-box');
        btn.disabled = true;
        box.innerHTML = '<div class="title-event">BRASSAGE...</div>';

        // Logique de probabilit√©s (Esp√©rance n√©gative)
        let res = [];
        const rng = Math.random();

        if (rng < 0.02) { // 2% BNZ
            res = ['B', 'N', 'Z'];
        } else if (rng < 0.10) { // 8% Triple
            const s = symbols[Math.floor(Math.random()*symbols.length)];
            res = [s, s, s];
        } else if (rng < 0.38) { // 28% Double
            const s1 = symbols[Math.floor(Math.random()*symbols.length)];
            const s2 = symbols[Math.floor(Math.random()*symbols.length)];
            res = [s1, s1, s2]; // On force une paire
        } else { // 62% Perte
            res = [symbols[Math.floor(Math.random()*3)], symbols[4], symbols[5]];
        }

        setTimeout(() => {
            document.getElementById('r0').innerText = res[0];
            document.getElementById('r1').innerText = res[1];
            document.getElementById('r2').innerText = res[2];
            resolve(res);
        }, 700);
    }

    function resolve(res) {
        const box = document.getElementById('action-box');
        let type = "";
        let eventList = [];
        let winAmount = 0;

        if (res[0] === 'B' && res[1] === 'N' && res[2] === 'Z') {
            type = "BNZ";
            eventList = EVENTS.BNZ;
            winAmount = 0; // Le gain est IRL
        } else if (res[0] === res[1] && res[1] === res[2]) {
            type = "TRIPLE";
            eventList = EVENTS.TRIPLE;
            winAmount = 50;
        } else if (res[0] === res[1] || res[1] === res[2] || res[0] === res[2]) {
            type = "DOUBLE";
            eventList = EVENTS.DOUBLE;
            winAmount = 5; // On rend juste la moiti√© pour drainer
        }

        if (type !== "") {
            const ev = eventList[Math.floor(Math.random()*eventList.length)];
            chips += winAmount;
            
            let rarityClass = type === "TRIPLE" ? "rare" : (type === "BNZ" ? "legendary" : "");
            
            box.innerHTML = `
                <div class="title-event ${rarityClass}">${type} !</div>
                <div class="title-event" style="font-size:1.1rem">${ev.t}</div>
                <div class="desc-event">${ev.d}</div>
            `;
        } else {
            box.innerHTML = `<div class="title-event">RIEN...</div><div class="desc-event">Passe le tour au voisin.</div>`;
        }

        if (chips < 10) {
            showGameOver();
        } else {
            document.getElementById('spin-btn').disabled = false;
        }
        updateUI();
    }

    function showGameOver() {
        const box = document.getElementById('action-box');
        box.innerHTML = `<div class="title-event" style="color:red">BANQUEROUTE !</div><div class="desc-event">Bois un shot sec pour revenir dans la partie.</div>`;
        document.getElementById('spin-btn').style.display = "none";
        document.getElementById('refill-btn').style.display = "inline-block";
    }

    function refill() {
        chips = 100;
        document.getElementById('refill-btn').style.display = "none";
        document.getElementById('spin-btn').style.display = "inline-block";
        document.getElementById('spin-btn').disabled = false;
        document.getElementById('action-box').innerHTML = `<div class="title-event">RECHARG√â</div><div class="desc-event">C'est reparti pour la gloire.</div>`;
        updateUI();
    }

    function updateUI() {
        document.getElementById('chips-display').innerText = chips;
    }
</script>
</body>
</html>
