<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>BNZ - Drinking Game Edition</title>
    <style>
        body { font-family: 'Courier New', Courier, monospace; background: #1a1a1a; color: #eee; text-align: center; }
        .stats { display: flex; justify-content: center; gap: 30px; margin: 20px; font-weight: bold; }
        
        .machine {
            display: inline-flex;
            gap: 15px;
            padding: 30px;
            background: #333;
            border: 8px solid #b22222; /* Rouge "danger" */
            border-radius: 10px;
        }

        .reel {
            width: 80px; height: 100px;
            background: white; color: black;
            display: flex; align-items: center; justify-content: center;
            font-size: 2.5rem; border-radius: 5px;
        }

        /* Styles des messages d'action */
        #action-display {
            margin: 20px auto;
            min-height: 60px;
            width: 80%;
            padding: 15px;
            font-size: 1.5rem;
            border: 2px dashed #555;
            display: flex; align-items: center; justify-content: center;
        }

        .drink-warning { color: #ff4444; animation: blink 0.5s infinite; }
        .win-shot { color: #44ff44; }
        .jackpot-irl { color: #ffff00; background: #000; padding: 10px; border: 2px solid gold; }

        button {
            padding: 20px 40px; font-size: 1.2rem; cursor: pointer;
            background: #444; color: white; border: none; border-radius: 5px;
        }
        button:disabled { background: #222; color: #555; }

        @keyframes blink { 0% { opacity: 1; } 50% { opacity: 0.3; } }
    </style>
</head>
<body>

    <h1>BNZ : CASINO √Ä BOIRE</h1>

    <div class="stats">
        <div>JETONS : <span id="chips">50</span></div>
    </div>

    <div class="machine">
        <div class="reel" id="r0">?</div>
        <div class="reel" id="r1">?</div>
        <div class="reel" id="r2">?</div>
    </div>

    <div id="action-display">Appuie sur SPIN pour commencer</div>

    <div class="controls">
        <button id="spin-btn" onclick="play()">SPIN (-10)</button>
        <br><br>
        <button id="refill-btn" onclick="refill()" style="display:none; background: #b22222;">J'AI BU MON SHOT (RECHARGE)</button>
    </div>

    <script>
        let chips = 50;
        const config = [
            ['B', 'üçå', 'üçí', 'üçã', 'üçá'],
            ['N', 'üçå', 'üçí', 'üçã', 'üçá'],
            ['Z', 'üçå', 'üçí', 'üçã', 'üçá']
        ];

        function play() {
            if (chips < 10) return;

            chips -= 10;
            updateUI();
            
            const btn = document.getElementById('spin-btn');
            const display = document.getElementById('action-display');
            btn.disabled = true;
            display.innerText = "Le destin tourne...";

            // Calcul du r√©sultat (Esp√©rance n√©gative)
            let res = [];
            const luck = Math.random();

            if (luck < 0.02) { // 2% Jackpot BNZ
                res = ['B', 'N', 'Z'];
            } else if (luck < 0.07) { // 5% Triple (autre que BNZ)
                const syms = ['üçå', 'üçí', 'üçã'];
                const s = syms[Math.floor(Math.random()*syms.length)];
                res = [s, s, s];
            } else if (luck < 0.30) { // 23% Double (donne un shot)
                const s1 = config[0][Math.floor(Math.random()*5)];
                const s2 = config[1][Math.floor(Math.random()*5)];
                res = [s1, s1, s2]; // Force une paire sur les deux premiers
            } else { // 70% Perte totale
                res = ['üçí', 'üçã', 'üçå']; 
            }

            // Animation rapide
            setTimeout(() => {
                document.getElementById('r0').innerText = res[0];
                document.getElementById('r1').innerText = res[1];
                document.getElementById('r2').innerText = res[2];
                resolveTurn(res);
                btn.disabled = (chips < 10);
            }, 600);
        }

        function resolveTurn(res) {
            const display = document.getElementById('action-display');
            
            // 1. JACKPOT BNZ
            if (res[0]==='B' && res[1]==='N' && res[2]==='Z') {
                chips += 200;
                display.className = "jackpot-irl";
                display.innerHTML = "üî• BNZ ! GAGNE 1 JETON IRL + 200 CHIPS üî•";
            } 
            // 2. TRIPLE
            else if (res[0] === res[1] && res[1] === res[2]) {
                chips += 50;
                display.className = "win-shot";
                display.innerText = "TRIPLE ! DONNE 2 SHOTS ! (+50 chips)";
            }
            // 3. DOUBLE
            else if (res[0] === res[1] || res[1] === res[2] || res[0] === res[2]) {
                display.className = "win-shot";
                display.innerText = "DOUBLE ! DONNE 1 SHOT √Ä QUELQU'UN !";
            }
            // 4. PERTE
            else {
                display.className = "";
                display.innerText = "Rien... On continue ?";
            }

            if (chips < 10) {
                gameOver();
            }
            updateUI();
        }

        function gameOver() {
            const display = document.getElementById('action-display');
            display.className = "drink-warning";
            display.innerText = "PLUS DE JETONS ! BOIS UN SHOT POUR RECHARGER.";
            document.getElementById('refill-btn').style.display = "inline-block";
            document.getElementById('spin-btn').style.display = "none";
        }

        function refill() {
            chips = 50;
            updateUI();
            document.getElementById('refill-btn').style.display = "none";
            document.getElementById('spin-btn').style.display = "inline-block";
            document.getElementById('spin-btn').disabled = false;
            document.getElementById('action-display').className = "";
            document.getElementById('action-display').innerText = "C'est reparti, sant√© !";
        }

        function updateUI() {
            document.getElementById('chips').innerText = chips;
        }
    </script>
</body>
</html>
